---
id: docs-chain-build-utility-functions
title: Utility Functions
hide_title: true
slug: ./utility-functions
displayed_sidebar: pushChainSidebar
sidebar_position: 6
image: '/assets/docs/previews/docs_notifications_develop_fetch_chats--create_channel.png'
---

# Utility Functions Overview

This page documents the **Utils** class, which provides a set of helper methods for:

1. **Account/Address Conversion** (CAIP-10 â†” UniversalAccount)
2. **Universal Signer Creation** (from `viem` and `@solana/web3.js` signers)

Below is a complete breakdown of each function in the **Utils** class.

<head>
  <title>{`Utility Functions | Push Chain | Push Documentation`}</title>
</head>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Details from '@theme/Details';
import {
  ModalContainer,
  ModalSmall,
  ModalWrapper,
  AFocus,
} from '@site/src/css/SharedStyling';

---

## 1. `PushChain.utils.account`

A namespace dedicated to converting addresses and handling **UniversalAccount** objects. Each method helps you work with different address formats.

### 1.1 `PushChain.utils.account.fromChainAgnostic`

<Tabs className='codetabs' groupId='code-examples'>
  <TabItem value='js' attributes={{ className: 'codetab js' }} default>

    ```typescript const universalAccount =
    PushChain.utils.account.fromChainAgnostic(chainAgnosticAddress)
    ```

  </TabItem>
</Tabs>

### `fromChainAgnostic` parameters

| **Param**              | **Type** | **Remarks**                                                                                                |
| ---------------------- | -------- | ---------------------------------------------------------------------------------------------------------- |
| `chainAgnosticAddress` | `string` | A full chain agnostic address string (e.g., `eip155:11155111:0x35B84d6848D16415177c64D64504663b998A6ab4`). |

#### Example: Convert Ethereum Sepolia CAIP-10 to UniversalAccount

```typescript
const universalAccount = PushChain.utils.account.fromChainAgnostic(
  'eip155:11155111:0x35B84d6848D16415177c64D64504663b998A6ab4'
);
console.log(universalAccount);
// {
//   chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
//   address: '0x35B84d6848D16415177c64D64504663b998A6ab4'
// }
```

### 1.2 `PushChain.utils.account.toUniversal`

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```typescript
const universalAccount = PushChain.utils.account.toUniversal(address, {
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
});
```

  </TabItem>
</Tabs>

### `toUniversal` parameters

| **Param**       | **Type** | **Remarks**                                                                                                                                                                                            |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `address`       | `string` | An address string (e.g., `0xabc...`).                                                                                                                                                                  |
| `options.chain` | `CHAIN`  | The target chain for the signer. Here are some possible values: `PushChain.CONSTANTS.CHAIN.ETHEREUM_MAINNET`, `PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA`, `PushChain.CONSTANTS.CHAIN.SOLANA_MAINNET` |

#### Example: Convert Ethereum Sepolia Address to UniversalAccount

```typescript
const universalAccount = PushChain.utils.account.toUniversal(
  '0x35B84d6848D16415177c64D64504663b998A6ab4',
  {
    chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  }
);
console.log(universalAccount);
// {
//   chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
//   address: '0x35B84d6848D16415177c64D64504663b998A6ab4'
// }
```

### 1.3 `PushChain.utils.account.toChainAgnostic`

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>
  ```typescript
  const chainAgnosticAddress = PushChain.utils.account.toChainAgnostic(address, {
    chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  });
  ```
  </TabItem>
</Tabs>

### `toChainAgnostic` parameters

| **Param**       | **Type** | **Remarks**                                                                                                                                                                                            |
| --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `address`       | `string` | An address string (e.g., `0xabc...`).                                                                                                                                                                  |
| `options.chain` | `CHAIN`  | The target chain for the signer. Here are some possible values: `PushChain.CONSTANTS.CHAIN.ETHEREUM_MAINNET`, `PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA`, `PushChain.CONSTANTS.CHAIN.SOLANA_MAINNET` |

#### Example: Convert Ethereum Address to CAIP-10

```typescript
const chainAgnosticStr = PushChain.utils.account.toChainAgnostic(
  '0xabc123...',
  {
    chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_MAINNET,
  }
);
// => 'eip155:1:0xabc123...'
```

### 1.4 `PushChain.utils.account.convertOriginToExecutor`

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>

```typescript
const executorInfo = await PushChain.utils.account.convertOriginToExecutor(
  universalAccount,
  {
    status: true,
  }
);
```

  </TabItem>
</Tabs>

### `convertOriginToExecutor` parameters

| **Param**        | **Type**           | **Remarks**                                                                                                     |
| ---------------- | ------------------ | --------------------------------------------------------------------------------------------------------------- |
| `account`        | `UniversalAccount` | A UniversalAccount object containing chain and address information.                                             |
| `options.status` | `boolean`          | Whether to check if the computed smart account address is deployed. Set to `true` to include deployment status. |

<Details summary="Expected response">

```typescript
{
  address: `0x${string}`;
  deployed?: boolean; // Only included if options.status is true
}
```

Response properties description:

| **Property** | **Type**  | **Description**                                                                  |
| ------------ | --------- | -------------------------------------------------------------------------------- |
| `address`    | `string`  | The computed smart account (executor) address on Push Chain                      |
| `deployed`   | `boolean` | Whether the smart account is deployed (only present if `options.status` is true) |

</Details>

#### Example: Convert Origin Account to Executor Address

```typescript
// Create a universal account for Ethereum Sepolia
const originAccount = PushChain.utils.account.toUniversal(
  '0x35B84d6848D16415177c64D64504663b998A6ab4',
  {
    chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  }
);

// Convert to executor address with deployment status
const executorInfo = await PushChain.utils.account.convertOriginToExecutor(
  originAccount,
  {
    status: true,
  }
);

console.log(executorInfo);
// {
//   address: '0x1234...abcd',
//   deployed: false
// }

// Convert without deployment status
const executorSimple = await PushChain.utils.account.convertOriginToExecutor(
  originAccount,
  {
    status: false,
  }
);

console.log(executorSimple);
// {
//   address: '0x1234...abcd'
// }
```

## 2. `PushChain.utils.signer`

A namespace for creating `UniversalSigner` objects from different wallet types.

### 2.1 Create UniversalSigner from Viem Wallet or Solana Keypair

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>
  For Ethereum:

```typescript
import { privateKeyToAccount } from 'viem/accounts';
import { CONSTANTS } from '@pushchain/core';

const account = privateKeyToAccount('0x...');
const universalSigner = await PushChain.utils.signer.toUniversal(account, {
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  library: PushChain.CONSTANTS.LIBRARY.ETHEREUM_VIEM,
});
```

For Solana:

```typescript
import { Keypair } from '@solana/web3.js';
import { CONSTANTS } from '@pushchain/core';

const keypair = Keypair.generate();
const universalSigner = await PushChain.utils.signer.toUniversal(keypair, {
  chain: PushChain.CONSTANTS.CHAIN.SOLANA_TESTNET,
  library: PushChain.CONSTANTS.LIBRARY.SOLANA_WEB3,
});
```

  </TabItem>

  <TabItem value="react" attributes={{className: "codetab react"}} default>
  For Ethereum:

```typescript
import { privateKeyToAccount } from 'viem/accounts';
import { CONSTANTS } from '@pushchain/core';

const account = privateKeyToAccount('0x...');
const universalSigner = await PushChain.utils.signer.toUniversal(account, {
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  library: PushChain.CONSTANTS.LIBRARY.ETHEREUM_VIEM,
});
```

For Solana:

```typescript
import { Keypair } from '@solana/web3.js';
import { CONSTANTS } from '@pushchain/core';

const keypair = Keypair.generate();
const universalSigner = await PushChain.utils.signer.toUniversal(keypair, {
  chain: PushChain.CONSTANTS.CHAIN.SOLANA_TESTNET,
  library: PushChain.CONSTANTS.LIBRARY.SOLANA_WEB3,
});
```

  </TabItem>

  <TabItem value="reactnative" attributes={{className: "codetab reactnative"}} default>
  For Ethereum:

```typescript
import { privateKeyToAccount } from 'viem/accounts';
import { CONSTANTS } from '@pushchain/core';

const account = privateKeyToAccount('0x...');
const universalSigner = await PushChain.utils.signer.toUniversal(account, {
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  library: PushChain.CONSTANTS.LIBRARY.ETHEREUM_VIEM,
});
```

For Solana:

```typescript
import { Keypair } from '@solana/web3.js';
import { CONSTANTS } from '@pushchain/core';

const keypair = Keypair.generate();
const universalSigner = await PushChain.utils.signer.toUniversal(keypair, {
  chain: PushChain.CONSTANTS.CHAIN.SOLANA_TESTNET,
  library: PushChain.CONSTANTS.LIBRARY.SOLANA_WEB3,
});
```

  </TabItem>
</Tabs>

---

### `toUniversal` parameters

| **Param**         | **Type**  | **Remarks**                                                                                                                                   |
| ----------------- | --------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| `account`         | `Account` | A viem Account instance (e.g., from privateKeyToAccount).                                                                                     |
| `options.chain`   | `CHAIN`   | The target chain for the signer. Possible values: `ETHEREUM_MAINNET`, `ETHEREUM_SEPOLIA`, `SOLANA_MAINNET`, `SOLANA_TESTNET`, `SOLANA_DEVNET` |
| `options.library` | `LIBRARY` | The library for the signer. Possible values: `ETHEREUM_VIEM` ('viem'), `SOLANA_WEB3` ('@solana/web3.js')                                      |

<Details summary="Expected response">

```typescript

{
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  address: '0x...',
  signMessage: (data: Uint8Array) => Promise<Uint8Array>,
  signTransaction: (data: Uint8Array) => Promise<Uint8Array>,
  signTypedData: (data: any) => Promise<Uint8Array>
}

```

Response properties description:

| **Property**      | **Type**   | **Description**                     |
| ----------------- | ---------- | ----------------------------------- |
| `chain`           | `CHAIN`    | The chain identifier                |
| `address`         | `string`   | The signer's address                |
| `signMessage`     | `function` | Function to sign arbitrary messages |
| `signTransaction` | `function` | Function to sign transactions       |
| `signTypedData`   | `function` | Function to sign EIP-712 typed data |

</Details>

## Example: Complete SDK Initialization

```typescript
import { PushChain } from '@pushchain/core';
import { privateKeyToAccount } from 'viem/accounts';

// Create a universal signer from a viem account
const account = privateKeyToAccount('0x...');
const universalSigner = await PushChain.utils.signer.toUniversal(account, {
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  library: PushChain.CONSTANTS.LIBRARY.ETHEREUM_VIEM,
});

// Initialize the PushChain SDK
const pushChainClient = await PushChain.initialize(universalSigner, {
  network: PushChain.CONSTANTS.PUSH_NETWORK.TESTNET_DONUT,
  printTraces: true,
});

// Convert addresses between formats
const caipAddress = PushChain.utils.account.toChainAgnostic({
  chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA,
  address: account.address,
});
console.log('CAIP-10 address:', caipAddress);
// => 'eip155:11155111:0x...'

const universalAccount = PushChain.utils.account.toUniversal(caipAddress);
console.log('UniversalAccount:', universalAccount);
// => { chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA, address: '0x...' }

// Convert origin account to executor address
const executorInfo = await PushChain.utils.account.convertOriginToExecutor(
  universalAccount,
  { status: true }
);
console.log('Executor address:', executorInfo);
// => { address: '0x...', deployed: false }
```
