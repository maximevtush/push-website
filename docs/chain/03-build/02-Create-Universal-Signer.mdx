---
id: docs-chain-build-create-universal-signer
title: Create Universal Signer
hide_title: true
slug: ./create-universal-signer
displayed_sidebar: pushChainSidebar
sidebar_position: 2
image: '/assets/docs/previews/docs_notifications_develop_fetch_chats--create_channel.png'
---

# Create Universal Signer Overview

A signer is an object that provides methods for signing messages and transactions for a specific blockchain. A universal signer is an extension of that signer that allows signing messages and transactions for universal blockchain in chain agnostic way.

It provides a unified interface that abstracts away the complexity of different signing implementations, allowing you to work seamlessly with various wallet providers and blockchain libraries.

<head>
  <title>{`Create Universal Signer | Push Chain | Push Documentation`}</title>
</head>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Details from '@theme/Details';
import NodeJSVirtualIDE from '@site/src/components/NodeJSVirtualIDE/NodeJSVirtualIDE';

## Create Universal Signer API

The most common way to create a Universal Signer is by converting an existing signer from supported libraries (Ethers, Viem, Solana).

<Tabs groupId="create-universal-signer">
  <TabItem value='ethers_v6' label='Ethers (V6)' default>

```typescript
// NOTE: Provider determines the chain of the account
// passing Ethereum Sepolia provider will create a Universal Signer for Ethereum Sepolia
// passing Push Chain Donut provider will create a Universal Signer for Push Chain Donut Testnet

// Create an Ethers signer
const provider = new ethers.providers.JsonRpcProvider('...');
const ethersSigner = new ethers.Wallet('0x...', provider);

// Convert to Universal Signer
const universalSigner = await PushChain.utils.signer.toUniversal(ethersSigner);
```

  </TabItem>

  <TabItem value='viem' label='Viem'>
  
```typescript
// NOTE: transport determines the chain of the account
// passing Ethereum Sepolia RPC URL will create a Universal Signer for Ethereum Sepolia
// passing Push Chain Donut RPC URL will create a Universal Signer for Push Chain Donut Testnet

// Create a Viem wallet client
const account = privateKeyToAccount('0x...');

const signer = createWalletClient({
transport: http('...'), // or your preferred RPC URL
account,
});

// Convert to Universal Signer
const universalSigner = await PushChain.utils.signer.toUniversal(viemClient);

````

  </TabItem>

  <TabItem value='solana_web3js' label='Web3 JS (Solana)'>

```typescript
// Create a Solana keypair
const solKeypair = Keypair.generate()

// Convert to Universal Signer
const universalSigner = await PushChain.utils.signer.toUniversalFromKeyPair(
  solKeypair,
  {
    chain: PushChain.CONSTANTS.CHAIN.SOLANA_DEVNET,
    library: PushChain.CONSTANTS.LIBRARY.SOLANA_WEB3JS,
  }
)
````

  </TabItem>
</Tabs>

### Create Universal Signer Parameters

| **Param**  | **Type**                                                                                   | **Remarks**                                      |
| ---------- | ------------------------------------------------------------------------------------------ | ------------------------------------------------ |
| _`signer`_ | `viem.WalletClient \| ethers.Wallet \| @solana/web3.js.Keypair \| UniversalSignerSkeleton` | The signer to convert to Universal Signer format |

> Note: Parameters _`in this style`_ are mandatory.

<Details summary="Expected response">

```typescript
// UniversalSigner object
{
  account: {
    address: '0x...',
    chain: 'ethereum_sepolia' // or other supported chains
  },
  signMessage: Function,
  signTransaction: Function,
  signTypedData: Function
}
```

</Details>

### Create Universal Signer Playground

<Tabs groupId="create-universal-signer">
  <TabItem value='ethers_v6' label='Ethers (V6)' default>

<NodeJSVirtualIDE 
  repo={{title: "Open in Github", url: "https://github.com/push-protocol/push-chain-examples/tree/main/sdk-functions/create-universal-signer"}}
>

{`

    // customPropHighlightRegexStart=PushChain\.utils\.signer\.toUniversal
    // Import Push Chain Core
    import { PushChain } from '@pushchain/core';
    import { ethers } from 'ethers';

    async function main() {
      console.log('Creating Universal Signer - Ethers V6')

      // Create random wallet
      const wallet = ethers.Wallet.createRandom()

      // Set up provider
      // Replace it with different JsonRpcProvider to target Ethereum Account, BNB Account, etc
      // const provider = new ethers.JsonRpcProvider('https://gateway.tenderly.co/public/sepolia')
      const provider = new ethers.JsonRpcProvider('https://evm.rpc-testnet-donut-node1.push.org/')
      const signer = wallet.connect(provider)

      // Convert ethers signer to Universal Signer
      const universalSigner = await PushChain.utils.signer.toUniversal(signer);
      console.log('ðŸ”‘ Got universal signer - Ethers')
      console.log(JSON.stringify(universalSigner));
    }

    main().catch(console.error)

`}

</NodeJSVirtualIDE>

  </TabItem>

  <TabItem value='viem' label='Viem'>

<NodeJSVirtualIDE repo={{title: "Open in Github", url: "https://github.com/push-protocol/push-chain-examples/tree/main/sdk-functions/create-universal-signer"}}>

{`

    // customPropHighlightRegexStart=PushChain\.utils\.signer\.toUniversal
    // customPropHighlightRegexEnd=\;
    // Import Push Chain Core
    import { PushChain } from '@pushchain/core';

    // Import Viem
    import { createWalletClient, http } from 'viem'
    import { generatePrivateKey, privateKeyToAccount } from 'viem/accounts'
    import { sepolia } from 'viem/chains'

    async function main() {
      // Create random wallet
      const account = privateKeyToAccount(generatePrivateKey())

      // set chain to sepolia
      const walletClient = createWalletClient({
        account,
        transport: http('https://evm.rpc-testnet-donut-node1.push.org/'),
      })

      // Convert viem signer to Universal Signer
      const universalSigner = await PushChain.utils.signer.toUniversal(walletClient);
      console.log('ðŸ”‘ Got universal signer - Viem')
      console.log(JSON.stringify(universalSigner));
    }

    main().catch(console.error)

`}

</NodeJSVirtualIDE>

  </TabItem>

  <TabItem value='solana_web3js' label='Web3 JS (Solana)'>

<NodeJSVirtualIDE repo={{title: "Open in Github", url: "https://github.com/push-protocol/push-chain-examples/tree/main/sdk-functions/create-universal-signer"}}>

{`

    // customPropHighlightRegexStart=PushChain\.utils\.signer\.toUniversalFromKeyPair
    // customPropHighlightRegexEnd=\\)
    // Import Push Chain Core
    import { PushChain } from '@pushchain/core';

    // Import Solana Web3 JS
    import { Keypair } from '@solana/web3.js'

    async function main() {
      // Create random wallet
      const solKeypair = Keypair.generate()

      // Convert solana signer to Universal Signer
      const universalSigner = await PushChain.utils.signer.toUniversalFromKeyPair(
        solKeypair,
        {
          chain: PushChain.CONSTANTS.CHAIN.SOLANA_DEVNET,
          library: PushChain.CONSTANTS.LIBRARY.SOLANA_WEB3JS,
        }
      )
      console.log('ðŸ”‘ Got universal signer')
      console.log(JSON.stringify(universalSigner));
    }

    main().catch(console.error)

`}

</NodeJSVirtualIDE>

  </TabItem>

  <TabItem value='ui_kit' label='UI Kit (Frontend / Abstracted)'>
  Using [UI Kit / UI Components](/docs/chain/ui-components/) will abstract away creation of the Universal Signer.
  
    ```jsx live
    // customPropHighlightRegexStart=<PushUniversalWalletProvider
    // customPropHighlightRegexEnd=</PushUniversalWalletProvider>
    // customPropMinimized='false'
    // Import necessary components from @pushchain/ui-kit
    import {
      PushUniversalWalletProvider,
      PushUniversalAccountButton,
      usePushWalletContext,
      usePushChainClient,
      PushUI,
    } from '@pushchain/ui-kit';

    function App() {
      // Define Wallet Config
      const walletConfig = {
        network: PushUI.CONSTANTS.PUSH_NETWORK.TESTNET,
      };

      function Component() {
        const { connectionStatus } = usePushWalletContext();
        const { pushChainClient } = usePushChainClient();

        return (
          <div>
            <PushUniversalAccountButton />

            {connectionStatus == 'connected' &&
              <p>Push Chain Client Initialized with Universal Signer: ${JSON.stringify(pushChainClient)}</p>
            }
          </div>
        );
      }

      return (
        <PushUniversalWalletProvider config={walletConfig}>
          <Component />
        </PushUniversalWalletProvider>
      );
    }
    ```

  </TabItem>
</Tabs>

---

## Construct Custom Universal Signer API

If you don't have a supported library signer or want to create a custom implementation, you can construct a Universal Signer manually.

<Tabs className="codetabs" groupId="code-examples">
  <TabItem value="js" attributes={{className: "codetab js"}} default>
```typescript
import { PushChain } from '@pushprotocol/core';

// Define account information
const account = {
address: '0xeCba9a32A9823f1cb00cdD8344Bf2D1d87a8dd97',
chain: PushChain.CONSTANTS.CHAIN.ETHEREUM_SEPOLIA
};

// Define custom signing functions
const customSignMessage = async (data) => {
// Your custom message signing logic
return new Uint8Array([1, 2, 3]);
};

const customSignTransaction = async (unsignedTx) => {
// Your custom transaction signing logic  
 return new Uint8Array([4, 5, 6]);
};

const customSignTypedData = async (typedDataArgs) => {
// Your custom typed data signing logic
return new Uint8Array([7, 8, 9]);
};

// Step 1: Construct the skeleton
const skeleton = PushChain.utils.signer.construct(account, {
signMessage: customSignMessage,
signTransaction: customSignTransaction,
signTypedData: customSignTypedData
});

// Step 2: Convert to Universal Signer
const universalSigner = await PushChain.utils.signer.toUniversal(skeleton);

````
  </TabItem>
</Tabs>

### Construct Signer Parameters

| **Param** | **Type** | **Remarks** |
|-----------|----------|-------------|
| _`account`_ | `UniversalAccount` | Account information containing address and chain |
| _`signingFunctions`_ | `Object` | Object containing the signing function implementations |
| _`signingFunctions.signMessage`_ | `(data: Uint8Array) => Promise<Uint8Array>` | Function to sign raw message data |
| _`signingFunctions.signTransaction`_ | `(unsignedTx: Uint8Array) => Promise<Uint8Array>` | Function to sign transaction data |
| `signingFunctions.signTypedData` | `(params) => Promise<Uint8Array>` | Function to sign typed data (EIP-712) |

> Note: Parameters _`in this style`_ are mandatory.

<Details summary="Expected response">
```typescript
// UniversalSignerSkeleton object
{
  signerId: 'CustomGeneratedSigner',
  account: {
    address: '0xeCba9a32A9823f1cb00cdD8344Bf2D1d87a8dd97',
    chain: 'ethereum_sepolia'
  },
  signMessage: Function,
  signTransaction: Function,
  signTypedData: Function
}
````

</Details>
