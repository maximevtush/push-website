---
id: docs-chain-build-contract-helpers
title: Contract Helpers
hide_title: false
slug: ./contract-helpers
displayed_sidebar: pushChainSidebar
sidebar_position: 8
image: '/assets/docs/previews/docs_notifications_develop--get_started.png'
---

## Overview

When building smart contract applications on Push Chain, you’ll at times need helper contracts to surface on-chain metadata—like identifying external chain users or computing deterministic smart account addresses. Push Chain provides a set of helper interfaces under the hood to simplify these workflows.

One primary helper is the Universal Executor Account Factory (UEAFactory), which underpins Push Chain’s multi‐chain smart account abstraction.

<head>
  <title>{`Contract Helpers | Build | Push Chain | Push Documentation`}</title>
</head>

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Details from '@theme/Details';
import NodeJSVirtualIDE from '@site/src/components/NodeJSVirtualIDE/NodeJSVirtualIDE';

## Universal Executor Account Factory

> As previously mentioned, [Universal Executor Accounts (UEAs)](/docs/important-concepts#account-types-on-push-chain) are a type of executor smart accounts that represent external chain users on Push Chain, allowing them to interact with Push Chain applications without having to connect, bridge, or move to Push Chain.

The [Universal Executor Account Factory](https://github.com/push-protocol/push-chain-contracts/blob/main/src/Interfaces/IUEAFactory.sol) is the central contract responsible for deploying and managing Universal Executor Accounts (UEAs) for users from different blockchains.

### UEAFactory Features

The [UEA Factory](https://github.com/push-protocol/push-chain-contracts/blob/main/src/UEAFactoryV1.sol) serves these key features:

- **Multi-Chain Support**: Register and manage UEAs for users from different blockchains
- **Deterministic Addresses**: Uses `CREATE2` + minimal proxies for predictable UEA addresses
- **Deployment Status**: Optionally check if a UEA is already deployed
- **Owner ↔ UEA Mapping**: Bidirectional mapping between Universal Accounts and their UEAs, VM types and implementations.

### UEAFactory Interface

**Deployed Address**: **_`0x00000000000000000000000000000000000000eA`_**

This helper contract helps in fetching cross-chain information about an address. It also provides identity-mapping between source chain wallet address and Push Chain address and can determine if the address is native to Push Chain or is proxy for external chain user.

```solidity
import "@pushprotocol/push-chain-contracts/src/Interfaces/IUEAFactory.sol";
```

Or, define the interface manually in your solidity contract:

```solidity
pragma solidity ^0.8.0;

// Represents a cross-chain account identifier
struct UniversalAccount {
    string chain;   // e.g. "eip155:11155111"
    address owner;  // external chain address
}

/// @title Universal Executor Account Factory Interface
/// @notice Helper interface for deploying and querying UEAs on Push Chain
interface IUEAFactory {
    /// @notice Returns the UniversalAccount and UEA status for a given address
    /// @param addr The Push Chain account or proxy address (msg.sender)
    /// @return account The underlying cross-chain account
    /// @return isUEA True if addr is a UEA proxy, false if native EOA
    function getOriginForUEA(
        address addr
    ) external view returns (
        UniversalAccount memory account,
        bool isUEA
    );

    /// @notice Computes the UEA proxy address and checks deployment
    /// @param _id The cross-chain UniversalAccount identifier
    /// @return uea The deterministic UEA proxy address
    /// @return isDeployed True if the proxy contract is deployed
    function getUEAForOrigin(
        UniversalAccount memory _id
    ) external view returns (
        address uea,
        bool isDeployed
    );
}
```


### UEAFactory Methods

### UEAFactory → getOriginForUEA

**_`getOriginForUEA(address): (UniversalAccount, bool)`_** is _`external view`_

Returns the owner information and UEA status for a given address on Push Chain.

**Commonly used for**:

- Checking if a given address is a native account on Push Chain or is controlled by another chain user.
- Determining the source chain of a given address on Push Chain.
- Getting the Universal Account information associated with this address.

> Note: UniversalAccount is a struct that returns chain and owner. chain contains the entire [chain namespace](/docs/chain/setup/chain-config/#universal-chain-namespace) (e.g., "eip155:1") and owner contains the 40 bytes wallet address.

```solidity
/**
 * @dev Returns the owner key (UOA) for a given UEA address
 * @param addr Any given address ( msg.sender ) on push chain
 * @return account The Universal Account information associated with this UEA
 * @return isUEA True if the address addr is a UEA contract. False if it is a native account on PUSH chain (i.e., isUEA = false)
*/
function getOriginForUEA(
    address addr
)
    external
    view
    returns (
        UniversalAccount memory account,
        bool isUEA
    );
```

| Arguments | Type      | Description                                       |
| --------- | --------- | ------------------------------------------------- |
| addr      | `address` | Any address on Push Chain (typically msg.sender). |

<Details summary="Returns UniversalAccount <struct> and bool" className="alert alert--fn-args">

| Response | Type               | Description                                                                                                              |
| -------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------ |
| account  | `UniversalAccount` | The Universal Account information associated with this UEA. struct `UniversalAccount` \{ string chain; address owner; \} |
| isUEA    | `bool`             | True if the address addr is a UEA contract. False if it is a native address on PUSH chain (i.e., isUEA = false)          |

</Details>

<Details summary="On-chain usage" className="alert alert--live-play">

```solidity
function checkCallerType() public view returns (bool isUEA) {
  (UniversalAccount memory account, bool isUEA) = IUEAFactory(0x00000000000000000000000000000000000000eA).getOriginForUEA(msg.sender);

  if (isUEA) {
      // Do something with the UEA
  } else {
      // Do something with the native account
  }
}
```

</Details>

<Details summary="Off-chain usage" className="alert alert--live-play">

<NodeJSVirtualIDE repo={{title: "Open in Github", url: "https://github.com/push-protocol/push-chain-examples/tree/main/sdk-functions/utility-functions"}}>

{`

    // customPropHighlightRegexStart=factory\.getOriginForUEA
    // customPropHighlightRegexEnd=\\);
    import { ethers } from 'ethers';

    // ——— CONFIG ———
    const RPC_URL          = 'https://evm.rpc-testnet-donut-node1.push.org/';
    const FACTORY_ADDRESS  = '0x00000000000000000000000000000000000000eA';

    // Minimal ABI
    const IUEAFactoryABI = [
      // returns (UniversalAccount account, bool isUEA)
      "function getOriginForUEA(address addr) view returns (tuple(string chain, address owner) account, bool isUEA)"
    ]

    async function main() {
      // 1) set up
      const provider = new ethers.JsonRpcProvider(RPC_URL);
      const factory  = new ethers.Contract(FACTORY_ADDRESS, IUEAFactoryABI, provider);

      // 2) pick some address to inspect
      const someAddress = '0xa96CaA79eb2312DbEb0B8E93c1Ce84C98b67bF11';

      // 3) call getOriginForUEA
      console.log("Calling getOriginForUEA on PushChain");
      const originResult = await factory.getOriginForUEA(someAddress);
      console.log("Result -", JSON.stringify(originResult));
    }

    await main().catch(console.error);

`}

</NodeJSVirtualIDE>

</Details>

### UEAFactory → getUEAForOrigin

**_`getUEAForOrigin(UniversalAccount): (address, bool)`_** is _`external view`_

Returns the computed UEA address for a given Universal Account and deployment status.

**Commonly used for**:

- Get or compute the UEA address for a given Universal Account.
- Check if a given Universal Account is deployed or not.

> Note: UniversalAccount is a struct that returns chain and owner. chain contains the entire [chain namespace](/docs/chain/setup/chain-config/#universal-chain-namespace) (e.g., "eip155:1") and owner contains the 40 bytes wallet address.

```solidity
/**
 * @dev Returns the computed UEA address for a given Universal Account ID and deployment status
 * @param _id The Universal Account information
 * @return uea The address of the UEA (computed deterministically)
 * @return isDeployed True if the UEA has already been deployed
*/
function getUEAForOrigin(
    UniversalAccount memory _id
)
    external
    view
    returns (
        address uea,
        bool    isDeployed
    );
```

| Arguments | Type             | Description                                                                                                                                                |
| --------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| \_id      | UniversalAccount | The Universal Account information containing:<br/>- chain: Chain identifier (e.g., "eip155:1")<br/>- owner: Owner's public key or address in bytes format. |

<Details summary="Returns address and bool" className="alert alert--fn-args">

| Response   | Type    | Description                                          |
| ---------- | ------- | ---------------------------------------------------- |
| uea        | address | The address of the UEA (computed deterministically). |
| isDeployed | bool    | True if the UEA has already been deployed.           |

</Details>

<Details summary="On-chain usage" className="alert alert--live-play">

```solidity
function checkUEAType() public view returns (address uea, bool isDeployed) {
    (address uea, bool isDeployed) = IUEAFactory(0x00000000000000000000000000000000000000eA).getUEAForOrigin(account);

    if (isDeployed) {
        // Do something with the deployed UEA
    } else {
        // UEA is not deployed yet but you have deterministic address for the UEA.
    }
}
```

</Details>

<Details summary="Off-chain usage" className="alert alert--live-play">

<NodeJSVirtualIDE repo={{title: "Open in Github", url: "https://github.com/push-protocol/push-chain-examples/tree/main/sdk-functions/utility-functions"}}>

{`
    // customPropHighlightRegexStart=factory\.getUEAForOrigin
    // customPropHighlightRegexEnd=\\);
    import { ethers } from 'ethers';

    // ——— CONFIG ———
    const RPC_URL          = 'https://evm.rpc-testnet-donut-node1.push.org/';
    const FACTORY_ADDRESS  = '0x00000000000000000000000000000000000000eA';

    // Minimal ABI
    const IUEAFactoryABI = [
      // takes (UniversalAccount _id) and returns (address uea, bool isDeployed)
      "function getUEAForOrigin(tuple(string chain, address owner) _id) view returns (address uea, bool isDeployed)"
    ]

    async function main() {
      // 1) set up
      const provider = new ethers.JsonRpcProvider(RPC_URL);
      const factory  = new ethers.Contract(FACTORY_ADDRESS, IUEAFactoryABI, provider);

      // 2) pick some external-chain address as the "owner"
      const address = '0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045';

      // 3) manually form the UniversalAccount struct
      const originAccount = {
        chain: 'eip155:11155111',   // Ethereum Sepolia namespace
        owner: address
      };

      // 4) call getUEAForOrigin and destructure the tuple return
      console.log("Calling getUEAForOrigin on PushChain");
      const ueaResult = await factory.getUEAForOrigin({
        chain: originAccount.chain,
        owner: originAccount.owner
      });
      console.log("Result -", JSON.stringify(ueaResult));
    }

    await main().catch(console.error);
                                                                                                                                  

`}

</NodeJSVirtualIDE>

</Details>


## Next Steps

- Wire up your SDK in [Initialize Push Chain Client](/docs/chain/build/initialize-push-chain-client)
- Simplify cross-chain workflows via [Utility Functions](/docs/chain/build/utility-functions)
- Dive into on-chain reads with [Reading Blockchain State](/docs/chain/build/reading-blockchain-state)
- Abstract wallet & UI flows with our [UI Kit](/docs/chain/ui-kit)
- Go deeper into advanced patterns in [Deep Dives](/docs/chain/deep-dives)
